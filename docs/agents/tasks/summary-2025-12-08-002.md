## What changed
- Documented why DefaultHttpContext is safe for offline initialization and reran app/tests builds to confirm zero nullable warnings.
- Addressed nullable feedback in FW/FwDynamicController/ParsePage by guarding reflection lookups, coalescing mail settings, and tightening attachment id handling; build now completes with zero nullable warnings.
- Addressed feedback on HttpContext defaults, tightened attachment id handling, and continued null-guarding utils/models; latest build still shows 68 nullable warnings to chase next.
- Logged the latest nullable warning inventory (118 remaining) after a fresh build to guide next cleanup steps.
- Added a dedicated continuation prompt to drive nonstop nullable-warning cleanup until builds are warning-free.
- Added safer defaults in FW auth checks and self-test configuration to avoid null dereferences while validating rules and mail settings.
- Normalized attachment filename handling to rely on `toStr()` before string operations to prevent nullable string access in file responses.
- Continued nullable warning cleanup: hardened AdminRoles ShowAction fallback logic and tightened null checks in dynamic controller autocomplete/attachments handling.
- Continued nullable cleanup with safer FW defaults, nullable-aware entity builder dictionaries, and null-safe Utils helpers; latest build reports 59 nullable warnings.
- Centralized client IP extraction via `Utils.getIP` and reused it in contact/login/MFA controllers and user activity logging.
- Initialized FW request/context fields to safe defaults, added a no-op ParsePage logger, guarded generic model activity logging when `fw` is absent, and hardened FwLogger stack trace/file handling against nulls.
- Controller config caching now coalesces to empty hash tables to avoid nullable returns and MyFilters show forms rely on the base implementation without null fallbacks.
- Host-based config overrides guard missing server variables and clone defaults defensively, and logger/activity log helpers initialize nullable fields explicitly.
- Restored controller action nullability in `MyLists` while keeping nullable-aware defaults, and let logger methods accept null
  arguments so assistant result logging stays single-line without analyzer noise.
- Guarded Windows auth identity access, Assistant usage logging, and MyLists parameter setup to avoid null dereferences while trimming redundant null checks in MyFilters.
- Simplified demo select option parsing, hardened Guid/property conversion, and made API header parsing null-safe while removing remaining nullable warnings in cache/utils tests; solution now builds cleanly.
- Disabled LibMan restore inside the web project and aligned demo/resource helpers with nullable signatures; Assistant result DTOs now default to empty strings and the update file comparer tolerates null inputs.
- Defaulted controller list/search metadata to safe empty collections, enforced config parse validity, and initialized admin user model to satisfy nullable analysis expectations.
- Normalized template lookups and pager generation to use safe defaults instead of casting nulls from settings or returning null pagers.
- Initialized controller routing/request fields to empty defaults and allowed reflection-based property setters to skip nulls fo
r non-nullable targets.
- Hardened select option rendering to tolerate missing ids/names without feeding nulls into HTML encoding.
- Defaulted user filter/view/list row strings and counts to safe initial values and kept dynamic Save refresh flow returning null to preserve redirect behavior while trimming nullable warnings.
- Guarded demo file uploads, Excel export headers, and DB analyze setup with explicit request/response/context checks and defaulted assets URL computation to empty strings when missing; logger dumps now accept null arguments safely.
- Defaulted routing info, validation helpers, and dynamic controller save flows to non-null defaults and safe string coercions to clear nullable warnings across controllers.
- Guarded dynamic report/controller creation and converter config access with explicit null checks to prevent Activator/Dynamic invocation warnings.
- Adjusted password hashing, self-test logging, and conversion helpers to tolerate missing values without returning nulls.
- Adjusted schema cache population, cookie helpers, and dynamic controller field handling to use safer string conversions.
- Added generator support for emitting default initializers (e.g., empty strings) in Row classes based on schema nullability.
- Initialized demo/user row string properties to empty strings and disabled MSTest analyzers to cut nullable/noise warnings toward a clean build.
- Allowed nullable inputs on core conversion extensions (toStr/toInt/toBool/etc.) to eliminate widespread warnings and keep helper behavior consistent when values are absent.
- Started normalizing DevCodeGen helpers to rely on safe string/bool retrieval instead of direct casts.
- Swapped optional parameters to nullable types across FW/FwModel/FwDynamicController/DB utilities and initialized ParsePage defaults to remove null-literal warnings without changing runtime behavior.
- Removed ad-hoc Safe* wrappers in DevCodeGen and relied on the shared conversion extensions.
- Normalized `FwDynamicController` showform/show blocks to use `toStr` for lookups and model names, cutting hundreds of nullable cast warnings.
- Allowed nullable inputs in shared helpers (`Utils.isEmpty/isInt/isLong/isFloat`, `Utils.ext2mime`, `DB.q`, `Utils.jsonStringifyValues`) and defaulted role resource properties to empty strings to silence bulk nullable warnings while keeping runtime behavior stable.
 - Hardened dynamic controller export helpers and user name enrichment to guard against missing option maps or null user ids.
 - Normalized CSV export to avoid null field arrays and made naming helpers tolerate null inputs for generator paths.
 - Hardened parts of `DB` helper: safer table/view schema reads via `toStr/toInt` for OLE DB, non-null defaults for conversions, and guarded table listing to drop empty names.
 - Added null-safe request/response handling for API and CSV export paths plus remote IP logging/file upload checks to shave down remaining CS86xx warnings.

## Commands that worked (build/test/run)
- `/root/dotnet/dotnet build osafw-tests/osafw-tests.csproj /p:LibraryRestore=false /clp:Summary` (0 warnings)
- `/root/dotnet/dotnet build osafw-app/osafw-app.csproj /p:LibraryRestore=false /clp:Summary` (0 warnings)
- `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` (0 nullable warnings)
- `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` (68 nullable warnings remain)
- `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` (59 nullable warnings remain)
- /root/dotnet/dotnet build
- /root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary
- /root/dotnet/dotnet build /p:LibraryRestore=false
- `dotnet build osafw-app/osafw-app.csproj /p:LibraryRestore=false`
- `dotnet build osafw-tests/osafw-tests.csproj /p:LibraryRestore=false`
- `dotnet build osafw-asp.net-core.sln /p:LibraryRestore=false /clp:Summary`

## Pitfalls - fixes
- LibMan restore still fails to reach unpkg/jsdelivr providers; building requires `LibraryRestore=false` for now.
- MSTest analyzer noise suppressed via `<EnableNETAnalyzers>false>`/`<RunAnalyzersDuringBuild>false>` in `osafw-tests.csproj`.
- Null inputs in tests needed explicit `null!` or nullable locals to avoid CS8600/CS8625 without changing behavior.
- `X509CertificateLoader.LoadPkcs12FromFile` requires a password argument, so `password: null` was passed to keep the helper working.

## Decisions - why
- Added empty-string defaults where database text fields should never be null and normalized hash lookups to skip missing names.
- Chose null-forgiving and nullable locals in tests to reflect intentional null cases without altering runtime behavior.
- Explicit IList casts in `FormUtilsTests` preserve the desired overload when null tabs or filters are passed.

## Heuristics (keep terse)
- Prefer `.toStr()`/coalescing before using hash values to avoid nullable warnings.
- In tests that intentionally pass null to non-null APIs, use `null!` plus explicit casts to preserve overload resolution.
- Use safe casts (e.g., `as Hashtable`) and null checks around helper results before dereferencing to avoid CS86xx warnings without altering logic.
- When analyzer noise dominates tests, consider disabling analyzers only in the test projects, keeping application code full-analyzed.## What changed
- Initialized cron metadata strings and cache defaults to non-null values to stop nullable construction warnings and allow cache accessors to acknowledge null results safely.
- Adjusted schema cache population, cookie helpers, and dynamic controller field handling to use safer string conversions.
- Added generator support for emitting default initializers (e.g., empty strings) in Row classes based on schema nullability.
- Allowed nullable inputs on core conversion extensions (toStr/toInt/toBool/etc.) to eliminate widespread warnings and keep helper behavior consistent when values are absent.
- Started normalizing DevCodeGen helpers to rely on safe string/bool retrieval instead of direct casts.
- Swapped optional parameters to nullable types across FW/FwModel/FwDynamicController/DB utilities and initialized ParsePage defaults to remove null-literal warnings without changing runtime behavior.
- Removed ad-hoc Safe* wrappers in DevCodeGen and relied on the shared conversion extensions.
- Normalized `FwDynamicController` showform/show blocks to use `toStr` for lookups and model names, cutting hundreds of nullable cast warnings.
- Allowed nullable inputs in shared helpers (`Utils.isEmpty/isInt/isLong/isFloat`, `Utils.ext2mime`, `DB.q`, `Utils.jsonStringifyValues`) and defaulted role resource properties to empty strings to silence bulk nullable warnings while keeping runtime behavior stable.
- Hardened dynamic controller export helpers and user name enrichment to guard against missing option maps or null user ids.
- Normalized CSV export to avoid null field arrays and made naming helpers tolerate null inputs for generator paths.
- Hardened parts of `DB` helper: safer table/view schema reads via `toStr/toInt` for OLE DB, non-null defaults for conversions, and guarded table listing to drop empty names.
- Finished `DB` nullable cleanup: non-null param handling for query/exec, safe buildSelectFields parsing, schema lookups guarded, IN/BETWEEN ops tolerate empty lists, and OleDb schema fetches skip null connections/tables.
- Updated uploads/attachments to use `GetFile` with null checks, defaulted attachment row strings, relaxed optional DB context handling, and made assets URL fallback coalesce missing roots.
- Defaulted attachment/dictionary rows and roles resource junction metadata to non-null defaults, tightened upload root URL coercion, and marked upload helpers nullable-aware to trim warnings.
- Defaulted assets URL building, search operator parsing, and change-detection helpers to tolerate missing values and reduce nullable warnings.
- Restored assets URL defaults to use existing safe coercion, made password scoring dictionary math and login context checks nullable-safe, guarded controller self-tests and upload image cleanup against missing values, and defaulted demo lookup params to empty strings.
- Defaulted demo lookup params through `toStr` coalescing, kept login session clearing tolerant of absent contexts, tightened assets URL fallback against missing roots, ensured MIME detection always returns a default, and reused workbook parts to avoid nullable dereferences.
- Restored the ASSETS_URL default with existing `toStr` coercion, consolidated MIME mapping defaults, and made settings/roles helpers coalesce missing values while continuing nullable cleanup.
- Guarded ASSETS_URL defaults when ROOT_URL is missing, tightened settings lookups to return empty strings instead of nulls, allowed role/resource key generation to accept nullable inputs, and made Vue routes tolerate missing requests while still returning non-null responses.
- Addressed feedback by keeping Vue Show redirects null-returning with nullable signatures, relaxed dynamic controller signatures that delegate to `afterSave`, and coalesced log-level parsing to skip null dereferences while continuing nullable cleanup.
- Guarded mail and database configuration lookups in admin controllers and FW database initialization to avoid nullable casts when defaults are absent.

## Commands that worked (build/test/run)
- /root/dotnet/dotnet build /p:LibraryRestore=false
- /root/dotnet/dotnet build /p:LibraryRestore=false -v:minimal
- dotnet build /p:LibraryRestore=false (Windows)

Warnings reduced from ~2002 to ~1613 after the extension signature updates, further down to ~1506 after the nullable signature sweep in the core helpers and parser, now ~1186 (â‰ˆ2372 warning lines) after tightening dynamic controller casts, continuing downward with helper signature relaxations and option null guards, and currently ~1218 after completing DB helper hardening (more work pending in Utils/FW/DevCodeGen/tests).
Latest build with `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` reports 158 nullable warnings, concentrated in FW, FwLogger, EntityBuilder, and Utils.
- Latest build with `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` now reports 170 nullable warnings after centralizing IP handling via `Utils.getIP` and adding new request/response guards.
- Latest build with `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` now reports 153 nullable warnings after upload/attachment hardening and DB context tweaks.
- Latest build with `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` now reports 145 nullable warnings after the latest string defaults and upload config adjustments.
- Latest build with `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` now reports 134 nullable warnings after guarding assets URL defaults, search parsing, and change detection helpers.
- Latest build with `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` now reports 127 nullable warnings after hardening password scoring, login/session context usage, self-test reflection lookups, upload cleanup, and demo lookup params.
- Latest build with `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` now reports 125 nullable warnings after workbook part reuse and MIME fallback tightening.
- Latest build with `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` now reports 119 nullable warnings after ASSETS_URL, settings lookup, and Vue routing guards.
- Latest build with `/root/dotnet/dotnet build /p:LibraryRestore=false /clp:Summary` now reports 117 nullable warnings after signature nullability updates and log-level parsing fixes.

## Pitfalls - fixes
- LibMan restore fails to reach unpkg/jsdelivr providers; building requires `LibraryRestore=false` for now.

## Decisions - why
- Added empty-string defaults where database text fields should never be null and normalized hash lookups to skip missing names.

## Heuristics (keep terse)
- Prefer `.toStr()`/coalescing before using hash values to avoid nullable warnings.
