<form id="DataF" action="<~../url>/(SaveMulti)" method="post" data-check-changes="true">
<input type="hidden" name="XSS" value="<~SESSION[XSS]>">
<input type="hidden" name="d" value="<~d>">
<input type="hidden" name="mode" value="edit">

<p>
<input type="submit" value="`Save changes`" class="btn btn-primary" disabled>
<input type="button" value="`Cancel`" class="btn btn-default on-cancel" >
</p>

<table class="table table-sm table-bordered table-edit">
    <thead>
        <~group_headers_block if="is_group_headers" inline>
            <tr class="list-header">
                <th></th>
                <~group_headers repeat inline xyz>
                    <th colspan="<~colspan>"><~iname></th>
                </~group_headers>
                <th></th>
            </tr>
        </~group_headers_block>
        <tr data-sortby="<~f[sortby]>" data-sortdir="<~f[sortdir]>">
            <th></th>
            <~fields_headers repeat inline>
                <th data-sort="<~colname>">`<~iname>`</th>
            </~fields_headers>
        </tr>
    </thead>
    <tbody class="table-group-divider">
<~list_rows repeat inline>
        <tr data-id="<~id>">
            <input type="hidden" name="row[<~id>]" value="<~row_md5>" class="rowid">
            <td class="text-nowrap pad">
                <a href="#" class="on-row-del text-danger"><i class="bi bi-x-circle"></i></a>
            </td>
            <~fields_values repeat inline>
                <td>
                <~type_input unless="type" inline><input name="f<~id>[<~colname>]" type="text" value="<~value>" maxlength="<~maxlen>" class="form-control">
                </~type_input>
                <~type_readonly ifeq="type" value="readonly" inline><input name="f<~id>[<~colname>]" type="text" value="<~value>" maxlength="<~maxlen>" class="form-control" <~/common/disabled if="id">>
                </~type_readonly>
                <~type_checkbox ifeq="type" value="checkbox" inline><div class="text-center pt-1"><input name="f<~id>[<~colname>]" value="1" type="checkbox" class="form-check-input" <~/common/checked ifeq="value">></div>
                </~type_checkbox>
                <~type_input ifeq="type" value="date" inline>
                    <div class="input-group date">
                        <input name="f<~id>[<~colname>]" type="text" value="<~value date>" maxlength="10" class="form-control" autocomplete="off">
                        <button class="btn btn-outline-secondary border-secondary-subtle rounded-0 border-top-0 border-bottom-0" type="button"><i class="bi bi-calendar3"></i></button>
                    </div>
                </~type_input>
                <~type_status ifeq="type" value="status" inline>
                    <select name="f<~id>[<~colname>]" class="form-select">
                        <option value="">`- select -`</option>
                        <~/common/sel/status.sel select="value">
                    </select>
                </~type_status>
                <~type_lookup ifeq="type" value="lookup" inline>
                    <select name="f<~id>[<~colname>]" class="form-select">
                        <option value="">`- select -`</option>
                        <~select_options noescape>
                    </select>
                </~type_lookup>
                </td>
            </~fields_values>
        </tr>
</~list_rows>
        <tr data-id="0" class="tpl d-none">
            <input type="hidden" name="new[0]" value="" class="rowid">
            <td class="text-nowrap pad">
                <a href="#" class="on-row-del text-danger"><i class="bi bi-x-circle"></i></a>
            </td>
            <~fields_headers repeat inline xxx>
                <td>
                <~type_input unless="type" inline><input name="fnew0[<~colname>]" type="text" value="" maxlength="<~maxlen>" class="form-control">
                </~type_input>
                <~type_readonly ifeq="type" value="readonly" inline><input name="fnew0[<~colname>]" type="text" value="" maxlength="<~maxlen>" class="form-control">
                </~type_readonly>
                <~type_checkbox ifeq="type" value="checkbox" inline><div class="text-center pt-1"><input name="fnew0[<~colname>]" value="1" type="checkbox" class="form-check-input"></div>
                </~type_checkbox>
                <~type_input ifeq="type" value="date" inline>
                    <div class="input-group date">
                        <input name="fnew0[<~colname>]" type="text" value="" maxlength="10" class="form-control" autocomplete="off">
                        <button class="btn btn-outline-secondary border-secondary-subtle rounded-0 border-top-0 border-bottom-0" type="button"><i class="bi bi-calendar3"></i></button>
                    </div>
                </~type_input>
                <~type_status ifeq="type" value="status" inline>
                    <select name="fnew0[<~colname>]" class="form-select">
                        <option value="">`- select -`</option>
                        <~/common/sel/status.sel select>
                    </select>
                </~type_status>
                <~type_lookup ifeq="type" value="lookup" inline>
                    <select name="fnew0[<~colname>]" class="form-select">
                        <option value="">`- select -`</option>
                        <~select_options noescape>
                    </select>
                </~type_lookup>
                </td>
            </~fields_headers>
        </tr>
    </tbody>
</table>

<p>
    <a class="btn btn-default on-add-new" href="<~../url>/new?d=<~d>"><i class="bi bi-plus-lg"></i> `Add New`</a>
</p>

<~footer_text if="defs[footer_text]" inline>
<p class="well well-sm">
    <~defs[footer_text] nl2br>
</p>
</~footer_text>

<div class="row align-items-end">
  <div class="col-sm-12 col-md-6 mb-3">
     <input type="submit" value="`Save changes`" class="btn btn-primary" disabled>
     <input type="button" value="`Cancel`" class="btn btn-default on-cancel" >
  </div>
  <div class="col-sm-12 col-md-6 mb-3">
     <div class="d-flex justify-content-md-end">
       <~/common/list/pagination>
     </div>
  </div>
</div>

</form>
